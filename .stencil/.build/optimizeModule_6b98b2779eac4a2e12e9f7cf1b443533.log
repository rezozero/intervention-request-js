class t{constructor(t){this.ampersand="-";this.separator="";this.webp=false;this.process=true;this.operations={format:{align:"a",fit:"f",flip:"m",crop:"c",width:"w",height:"h",background:"b",greyscale:"g",blur:"l",quality:"q",progressive:"p",interlace:"i",sharpen:"s",contrast:"k"}};this.defaultMediaOptions={rule:"100vw",format:{}};this.name=t.name;this.baseUrl=t.baseUrl;this.ampersand=t.ampersand||this.ampersand;this.separator=t.separator||this.separator;this.webp=t.webp||this.webp;this.operations=Object.assign(Object.assign({},this.operations),t.operations);if("process"in t){this.process=t.process}if(typeof window!=="undefined"&&window.interventionRequestJS){this.mergeConfigurations(window.interventionRequestJS)}}computedOperations(t){let s=[];let i=Object.assign(Object.assign({},this.defaultMediaOptions.format),t);for(let t in i){if(i.hasOwnProperty(t)&&this.operations.format[t]){s.push(`${this.operations.format[t]}${this.separator}${i[t]}`)}}return s.join(this.ampersand)}formatPath(t,s,i=undefined,e=false){let h=i||this.baseUrl;let a=t;if(this.process){a=`${this.computedOperations(s.format)}/${a}`}if(h){h=h.replace(/\+$/,"");a=`${h}/${a}`}if(e&&s.rule){a+=` ${s.rule}`}return a}mergeConfigurations(t){if(t.mediaOptions){this.defaultMediaOptions.format=Object.assign(Object.assign({},this.defaultMediaOptions.format),t.mediaOptions)}if(t.strategies&&t.strategies[this.name]){const s=t.strategies[this.name];this.baseUrl=s.baseUrl||this.baseUrl;this.ampersand=s.ampersand||this.ampersand;this.separator=s.separator||this.separator;this.webp=s.webp||this.webp;this.operations=Object.assign(Object.assign({},this.operations),s.operations)}}}const s={name:"default",baseUrl:"/assets",ampersand:"-",webp:true};const i={name:"cloudinary",baseUrl:"https://res.cloudinary.com/demo/image/upload",ampersand:",",separator:"_",webp:false};const e={name:"noprocess",process:false};const h={default:new t(s),cloudinary:new t(i),noprocess:new t(e)};export{t as S,h as s};